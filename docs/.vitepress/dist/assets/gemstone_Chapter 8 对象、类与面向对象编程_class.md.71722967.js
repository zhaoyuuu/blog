import{_ as s,c as n,o as a,d as l}from"./app.cebf1889.js";const i=JSON.parse('{"title":"class ç±»","description":"","frontmatter":{},"headers":[{"level":2,"title":"ç±»å®šä¹‰","slug":"ç±»å®šä¹‰","link":"#ç±»å®šä¹‰","children":[{"level":3,"title":"ç±»çš„æ„æˆ","slug":"ç±»çš„æ„æˆ","link":"#ç±»çš„æ„æˆ","children":[]}]},{"level":2,"title":"ç±»æ„é€ å‡½æ•°","slug":"ç±»æ„é€ å‡½æ•°","link":"#ç±»æ„é€ å‡½æ•°","children":[{"level":3,"title":"å®ä¾‹åŒ–","slug":"å®ä¾‹åŒ–","link":"#å®ä¾‹åŒ–","children":[]},{"level":3,"title":"æŠŠç±»å½“æˆç‰¹æ®Šå‡½æ•°","slug":"æŠŠç±»å½“æˆç‰¹æ®Šå‡½æ•°","link":"#æŠŠç±»å½“æˆç‰¹æ®Šå‡½æ•°","children":[]}]},{"level":2,"title":"å®ä¾‹ã€åŸå‹å’Œç±»æˆå‘˜","slug":"å®ä¾‹ã€åŸå‹å’Œç±»æˆå‘˜","link":"#å®ä¾‹ã€åŸå‹å’Œç±»æˆå‘˜","children":[{"level":3,"title":"å®ä¾‹æˆå‘˜","slug":"å®ä¾‹æˆå‘˜","link":"#å®ä¾‹æˆå‘˜","children":[]},{"level":3,"title":"åŸå‹æ–¹æ³•ä¸è®¿é—®å™¨","slug":"åŸå‹æ–¹æ³•ä¸è®¿é—®å™¨","link":"#åŸå‹æ–¹æ³•ä¸è®¿é—®å™¨","children":[]},{"level":3,"title":"é™æ€ç±»æ–¹æ³•","slug":"é™æ€ç±»æ–¹æ³•","link":"#é™æ€ç±»æ–¹æ³•","children":[]},{"level":3,"title":"éå‡½æ•°åŸå‹å’Œç±»æˆå‘˜","slug":"éå‡½æ•°åŸå‹å’Œç±»æˆå‘˜","link":"#éå‡½æ•°åŸå‹å’Œç±»æˆå‘˜","children":[]}]},{"level":2,"title":"ç»§æ‰¿","slug":"ç»§æ‰¿","link":"#ç»§æ‰¿","children":[{"level":3,"title":"ç»§æ‰¿åŸºç¡€","slug":"ç»§æ‰¿åŸºç¡€","link":"#ç»§æ‰¿åŸºç¡€","children":[]},{"level":3,"title":"æ„é€ å‡½æ•° å’Œ super()","slug":"æ„é€ å‡½æ•°-å’Œ-super","link":"#æ„é€ å‡½æ•°-å’Œ-super","children":[]},{"level":3,"title":"æŠ½è±¡åŸºç±»","slug":"æŠ½è±¡åŸºç±»","link":"#æŠ½è±¡åŸºç±»","children":[]},{"level":3,"title":"ç»§æ‰¿å†…ç½®ç±»å‹","slug":"ç»§æ‰¿å†…ç½®ç±»å‹","link":"#ç»§æ‰¿å†…ç½®ç±»å‹","children":[]}]}],"relativePath":"gemstone/Chapter 8 å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹/class.md","lastUpdated":1677468209000}'),p={name:"gemstone/Chapter 8 å¯¹è±¡ã€ç±»ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹/class.md"},o=l(`<h1 id="class-ç±»" tabindex="-1">class ç±» <a class="header-anchor" href="#class-ç±»" aria-hidden="true">#</a></h1><p>éš¾åº¦ï¼šâ­ï¸â­ï¸â­ï¸â­ï¸</p><p>å‰å‡ èŠ‚æ·±å…¥è®²è§£äº†å¦‚ä½•åªä½¿ç”¨ <strong>ECMAScript 5 çš„ç‰¹æ€§æ¥æ¨¡æ‹Ÿ</strong>ç±»ä¼¼äºç±»ï¼ˆclass-likeï¼‰çš„è¡Œä¸ºã€‚ä¸éš¾çœ‹å‡ºï¼Œå„ç§ç­–ç•¥éƒ½æœ‰è‡ªå·±çš„é—®é¢˜ï¼Œä¹Ÿæœ‰ç›¸åº”çš„å¦¥åã€‚æ­£å› ä¸ºå¦‚æ­¤ï¼Œå®ç°ç»§æ‰¿çš„ä»£ç ä¹Ÿæ˜¾å¾—éå¸¸<strong>å†—é•¿å’Œæ··ä¹±</strong>ã€‚ä¸ºè§£å†³è¿™äº›é—®é¢˜ï¼ŒECMAScript 6 æ–°å¼•å…¥çš„ <strong>class</strong> å…³é”®å­—å…·æœ‰<strong>æ­£å¼å®šä¹‰ç±»</strong>çš„èƒ½åŠ›ã€‚</p><blockquote><p>ğŸ’Œ è™½ç„¶ ECMAScript 6 ç±»è¡¨é¢ä¸Šçœ‹èµ·æ¥å¯ä»¥æ”¯æŒæ­£å¼çš„<strong>é¢å‘å¯¹è±¡ç¼–ç¨‹</strong>ï¼Œä½†å®é™…ä¸Šå®ƒèƒŒåä½¿ç”¨çš„ä»ç„¶æ˜¯<strong>åŸå‹å’Œæ„é€ å‡½æ•°</strong>çš„æ¦‚å¿µ(è¯­æ³•ç³– ğŸ­)ã€‚</p></blockquote><h2 id="ç±»å®šä¹‰" tabindex="-1">ç±»å®šä¹‰ <a class="header-anchor" href="#ç±»å®šä¹‰" aria-hidden="true">#</a></h2><p>ä¸å‡½æ•°ç±»å‹ç›¸ä¼¼ï¼Œå®šä¹‰ç±»ä¹Ÿæœ‰ä¸¤ç§ä¸»è¦æ–¹å¼ï¼š<strong>ç±»å£°æ˜</strong>å’Œ<strong>ç±»è¡¨è¾¾å¼</strong>ã€‚è¿™ä¸¤ç§æ–¹å¼éƒ½ä½¿ç”¨ <code>class</code> å…³é”®å­—åŠ å¤§æ‹¬å·ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ç±»å£°æ˜</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç±»è¡¨è¾¾å¼</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> Animal </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"></span></code></pre></div><ul><li>ä¸å‡½æ•°è¡¨è¾¾å¼ç±»ä¼¼ï¼Œç±»è¡¨è¾¾å¼åœ¨å®ƒä»¬<strong>è¢«æ±‚å€¼å‰ä¹Ÿä¸èƒ½å¼•ç”¨</strong>ã€‚ä¸è¿‡ï¼Œä¸<strong>å‡½æ•°å®šä¹‰ä¸åŒ</strong>çš„æ˜¯ï¼Œè™½ç„¶<strong>å‡½æ•°å£°æ˜å¯ä»¥æå‡ï¼Œä½†ç±»å®šä¹‰ä¸èƒ½</strong>ï¼š</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(FunctionExpression)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// undefined</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> FunctionExpression </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(FunctionExpression)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// function() {}</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(FunctionDeclaration)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// FunctionDeclaration() {}</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FunctionDeclaration</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(FunctionDeclaration)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// FunctionDeclaration() {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(ClassExpression)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// undefined</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> ClassExpression </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(ClassExpression)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// class {}</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(ClassDeclaration)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// ReferenceError: ClassDeclaration is not defined</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ClassDeclaration</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(ClassDeclaration)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// class ClassDeclaration {}</span></span>
<span class="line"></span></code></pre></div><ul><li>å¦ä¸€ä¸ªè·Ÿå‡½æ•°å£°æ˜ä¸åŒçš„åœ°æ–¹æ˜¯ï¼Œå‡½æ•°å—<strong>å‡½æ•°ä½œç”¨åŸŸ</strong>é™åˆ¶ï¼Œè€Œç±»å—<strong>å—ä½œç”¨åŸŸ</strong>é™åˆ¶ï¼š</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">FunctionDeclaration</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#F07178;"> </span><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">ClassDeclaration</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(FunctionDeclaration)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// FunctionDeclaration() {}</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(ClassDeclaration)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// ReferenceError: ClassDeclaration is not defined</span></span>
<span class="line"></span></code></pre></div><h3 id="ç±»çš„æ„æˆ" tabindex="-1">ç±»çš„æ„æˆ <a class="header-anchor" href="#ç±»çš„æ„æˆ" aria-hidden="true">#</a></h3><p>ç±»å¯ä»¥åŒ…å«<strong>æ„é€ å‡½æ•°æ–¹æ³•</strong>ã€<strong>å®ä¾‹æ–¹æ³•</strong>ã€<strong>è·å–&amp;è®¾ç½® å‡½æ•°</strong>å’Œ<strong>é™æ€ç±»æ–¹æ³•</strong>ã€‚ä½†è¿™äº›éƒ½ä¸æ˜¯å¿…éœ€çš„ï¼Œç©ºçš„ç±»å®šä¹‰ç…§æ ·æœ‰æ•ˆã€‚</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ç©ºç±»å®šä¹‰ï¼Œæœ‰æ•ˆ</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Foo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æœ‰æ„é€ å‡½æ•°çš„ç±»ï¼Œæœ‰æ•ˆ</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Bar</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æœ‰è·å–å‡½æ•°çš„ç±»ï¼Œæœ‰æ•ˆ</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Baz</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">get</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">myBaz</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æœ‰é™æ€æ–¹æ³•çš„ç±»ï¼Œæœ‰æ•ˆ</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Qux</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">myQux</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="ç±»æ„é€ å‡½æ•°" tabindex="-1">ç±»æ„é€ å‡½æ•° <a class="header-anchor" href="#ç±»æ„é€ å‡½æ•°" aria-hidden="true">#</a></h2><p><code>constructor</code> å…³é”®å­—ç”¨äºåœ¨<strong>ç±»å®šä¹‰å—</strong>å†…éƒ¨<strong>åˆ›å»ºç±»çš„æ„é€ å‡½æ•°</strong>ã€‚æ–¹æ³•å <code>constructor</code> ä¼šå‘Šè¯‰è§£é‡Šå™¨åœ¨<strong>ä½¿ç”¨ new æ“ä½œç¬¦åˆ›å»ºç±»çš„æ–°å®ä¾‹</strong>æ—¶ï¼Œåº”è¯¥è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚</p><blockquote><p>æ„é€ å‡½æ•°çš„å®šä¹‰ä¸æ˜¯å¿…éœ€çš„ï¼Œä¸å®šä¹‰æ„é€ å‡½æ•°ç›¸å½“äºå°†æ„é€ å‡½æ•°å®šä¹‰ä¸ºç©ºå‡½æ•°ã€‚</p></blockquote><h3 id="å®ä¾‹åŒ–" tabindex="-1">å®ä¾‹åŒ– <a class="header-anchor" href="#å®ä¾‹åŒ–" aria-hidden="true">#</a></h3><p>ä½¿ç”¨ <strong><code>new</code> è°ƒç”¨ç±»çš„æ„é€ å‡½æ•°</strong>ä¼šæ‰§è¡Œå¦‚ä¸‹æ“ä½œï¼ˆå’Œæ„é€ å‡½æ•°ä¸€è‡´ï¼‰ï¼š</p><ol><li>åœ¨å†…å­˜ä¸­<strong>åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡</strong>ã€‚</li><li>è¿™ä¸ªæ–°å¯¹è±¡å†…éƒ¨çš„ <code>__proto__</code> æŒ‡é’ˆè¢«èµ‹å€¼ä¸ºæ„é€ å‡½æ•°çš„ <code>prototype</code> å±æ€§ï¼ˆ<strong>æ¥ä¸ŠåŸå‹é“¾</strong>ï¼‰ã€‚</li><li>æ„é€ å‡½æ•°å†…éƒ¨çš„ <code>this</code> è¢«èµ‹å€¼ä¸ºè¿™ä¸ªæ–°å¯¹è±¡ï¼ˆå³ <strong><code>this</code> æŒ‡å‘æ–°å¯¹è±¡</strong>ï¼‰ã€‚</li><li><strong>æ‰§è¡Œ</strong>æ„é€ å‡½æ•°å†…éƒ¨çš„ä»£ç ï¼ˆç»™æ–°å¯¹è±¡æ·»åŠ å±æ€§ï¼‰ã€‚</li><li>å¦‚æœ<strong>æ„é€ å‡½æ•°è¿”å›éç©ºå¯¹è±¡</strong>ï¼Œåˆ™è¿”å›è¯¥å¯¹è±¡ï¼›<strong>å¦åˆ™</strong>ï¼Œè¿”å›åˆšåˆ›å»ºçš„æ–°å¯¹è±¡ã€‚</li></ol><p>ğŸŸ¢ é»˜è®¤æƒ…å†µä¸‹ï¼Œç±»æ„é€ å‡½æ•°ä¼šåœ¨æ‰§è¡Œä¹‹åè¿”å› <code>this</code> å¯¹è±¡ã€‚<br> ğŸŸ¡ ä¸è¿‡ï¼Œå¦‚æœè¿”å›çš„<strong>ä¸æ˜¯ <code>this</code> å¯¹è±¡</strong>ï¼Œè€Œæ˜¯å…¶ä»–å¯¹è±¡ï¼ˆæ„é€ å‡½æ•°å†…éƒ¨è¿”å›çš„éç©ºå¯¹è±¡ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡<strong>ä¸ä¼š</strong>é€šè¿‡ <code>instanceof</code> æ“ä½œç¬¦æ£€æµ‹å‡ºè·Ÿç±»æœ‰å…³è”ï¼Œå› ä¸ºè¿™ä¸ªå¯¹è±¡çš„åŸå‹æŒ‡é’ˆå¹¶æ²¡æœ‰è¢«ä¿®æ”¹ã€‚</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">override</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">foo</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">foo</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">override</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        bar</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bar</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> p1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Person</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">p2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Person</span><span style="color:#A6ACCD;">(</span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(p1)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// Person{ foo: &#39;foo&#39; }</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(p1 </span><span style="color:#89DDFF;">instanceof</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(p2)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// { bar: &#39;bar&#39; }</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(p2 </span><span style="color:#89DDFF;">instanceof</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// false</span></span>
<span class="line"></span></code></pre></div><br><p>ğŸ‘‰ ç±»æ„é€ å‡½æ•°ä¸æ„é€ å‡½æ•°çš„<strong>ä¸»è¦åŒºåˆ«</strong>æ˜¯ï¼Œè°ƒç”¨ç±»æ„é€ å‡½æ•°<strong>å¿…é¡»ä½¿ç”¨ <code>new</code> æ“ä½œç¬¦</strong>ã€‚è€Œæ™®é€šæ„é€ å‡½æ•°å¦‚æœä¸ä½¿ç”¨ new è°ƒç”¨ï¼Œé‚£ä¹ˆå°±ä¼šä»¥<strong>å…¨å±€çš„ <code>this</code>ï¼ˆé€šå¸¸æ˜¯ <code>window</code>ï¼‰</strong> ä½œä¸ºå†…éƒ¨å¯¹è±¡ã€‚è°ƒç”¨ç±»æ„é€ å‡½æ•°æ—¶å¦‚æœå¿˜äº†ä½¿ç”¨ <code>new</code> åˆ™ä¼š<strong>æŠ›å‡ºé”™è¯¯</strong>ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Person</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Animal</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æŠŠ window ä½œä¸º this æ¥æ„å»ºå®ä¾‹</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> p </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Person</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Animal</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// TypeError: class constructor Animal cannot be invoked without &#39;new&#39;</span></span>
<span class="line"></span></code></pre></div><h3 id="æŠŠç±»å½“æˆç‰¹æ®Šå‡½æ•°" tabindex="-1">æŠŠç±»å½“æˆç‰¹æ®Šå‡½æ•° <a class="header-anchor" href="#æŠŠç±»å½“æˆç‰¹æ®Šå‡½æ•°" aria-hidden="true">#</a></h3><p>ECMAScript ä¸­æ²¡æœ‰æ­£å¼çš„ç±»è¿™ä¸ªç±»å‹ã€‚ä»å„æ–¹é¢æ¥çœ‹ï¼Œ<strong>ECMAScript ç±»å°±æ˜¯ä¸€ç§ç‰¹æ®Šå‡½æ•°</strong>ã€‚å£°æ˜ä¸€ä¸ªç±»ä¹‹åï¼Œé€šè¿‡ <code>typeof</code> æ“ä½œç¬¦æ£€æµ‹ç±»æ ‡è¯†ç¬¦ï¼Œè¡¨æ˜å®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(Person)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// class Person {}</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">typeof</span><span style="color:#A6ACCD;"> Person)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// function</span></span>
<span class="line"></span></code></pre></div><p>ç±»æ ‡è¯†ç¬¦æœ‰ <code>prototype</code> å±æ€§ï¼Œè€Œè¿™ä¸ªåŸå‹ä¹Ÿæœ‰ä¸€ä¸ª <code>constructor</code> å±æ€§æŒ‡å‘ç±»è‡ªèº«ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">Person</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// { constructor: f() }</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(Person </span><span style="color:#89DDFF;">===</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">constructor)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"></span></code></pre></div><h2 id="å®ä¾‹ã€åŸå‹å’Œç±»æˆå‘˜" tabindex="-1">å®ä¾‹ã€åŸå‹å’Œç±»æˆå‘˜ <a class="header-anchor" href="#å®ä¾‹ã€åŸå‹å’Œç±»æˆå‘˜" aria-hidden="true">#</a></h2><p>ç±»çš„è¯­æ³•å¯ä»¥éå¸¸æ–¹ä¾¿åœ°å®šä¹‰åº”è¯¥å­˜åœ¨äº<strong>å®ä¾‹ä¸Šçš„æˆå‘˜</strong>ã€åº”è¯¥å­˜åœ¨äº<strong>åŸå‹ä¸Šçš„æˆå‘˜</strong>ï¼Œä»¥åŠåº”è¯¥å­˜åœ¨äº<strong>ç±»æœ¬èº«çš„æˆå‘˜</strong>ã€‚</p><h3 id="å®ä¾‹æˆå‘˜" tabindex="-1">å®ä¾‹æˆå‘˜ <a class="header-anchor" href="#å®ä¾‹æˆå‘˜" aria-hidden="true">#</a></h3><p>æ¯ä¸ªå®ä¾‹éƒ½å¯¹åº”ä¸€ä¸ª<strong>å”¯ä¸€çš„æˆå‘˜å¯¹è±¡</strong>ï¼Œè¿™æ„å‘³ç€æ‰€æœ‰æˆå‘˜éƒ½<strong>ä¸ä¼šåœ¨åŸå‹ä¸Šå…±äº«</strong>ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">String</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Jack</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">sayName</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">nicknames</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Jake</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">J-Dog</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> p1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Person</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">p2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Person</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">p1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sayName</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// Jack</span></span>
<span class="line"><span style="color:#A6ACCD;">p2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sayName</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// Jack</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(p1</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name </span><span style="color:#89DDFF;">===</span><span style="color:#A6ACCD;"> p2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// false</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(p1</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sayName </span><span style="color:#89DDFF;">===</span><span style="color:#A6ACCD;"> p2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sayName)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// false</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(p1</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">nicknames </span><span style="color:#89DDFF;">===</span><span style="color:#A6ACCD;"> p2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">nicknames)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// false</span></span>
<span class="line"></span></code></pre></div><h3 id="åŸå‹æ–¹æ³•ä¸è®¿é—®å™¨" tabindex="-1">åŸå‹æ–¹æ³•ä¸è®¿é—®å™¨ <a class="header-anchor" href="#åŸå‹æ–¹æ³•ä¸è®¿é—®å™¨" aria-hidden="true">#</a></h3><p>ä¸ºäº†åœ¨<strong>å®ä¾‹é—´å…±äº«æ–¹æ³•</strong>ï¼Œç±»å®šä¹‰è¯­æ³•æŠŠåœ¨<strong>ç±»å—ä¸­å®šä¹‰çš„æ–¹æ³•</strong>ä½œä¸º<strong>åŸå‹æ–¹æ³•</strong>ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// æ·»åŠ åˆ° this çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šå­˜åœ¨äºä¸åŒçš„å®ä¾‹ä¸Š</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">locate</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">instance</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// åœ¨ç±»å—ä¸­å®šä¹‰çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šå®šä¹‰åœ¨ç±»çš„åŸå‹ä¸Š</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">locate</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">prototype</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line highlighted"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> p </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Person</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">p</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">locate</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// instance</span></span>
<span class="line"><span style="color:#FFCB6B;">Person</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">locate</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// prototype</span></span>
<span class="line"></span></code></pre></div><p>å¯ä»¥æŠŠ<strong>æ–¹æ³•</strong>å®šä¹‰åœ¨ç±»æ„é€ å‡½æ•°ä¸­æˆ–è€…ç±»å—ä¸­ï¼Œä½†<strong>ä¸èƒ½</strong>åœ¨ç±»å—ä¸­ç»™åŸå‹æ·»åŠ <strong>åŸå§‹å€¼æˆ–å¯¹è±¡</strong>ä½œä¸ºæˆå‘˜æ•°æ®ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Jake</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// Uncaught SyntaxError: Unexpected token</span></span>
<span class="line"></span></code></pre></div><p><strong>ç±»æ–¹æ³•ç­‰åŒäºå¯¹è±¡å±æ€§</strong>ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²ã€ç¬¦å·æˆ–è®¡ç®—çš„å€¼ä½œä¸ºé”®ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> symbolKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Symbol</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">symbolKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">stringKey</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">invoked stringKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  [symbolKey]</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">invoked symbolKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">computed</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Key</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">invoked computedKey</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> p </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Person</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">p</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringKey</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// invoked stringKey</span></span>
<span class="line"><span style="color:#A6ACCD;">p[symbolKey]()</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// invoked symbolKey</span></span>
<span class="line"><span style="color:#A6ACCD;">p</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">computedKey</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// invoked computedKey</span></span>
<span class="line"></span></code></pre></div><p>ç±»å®šä¹‰ä¹Ÿæ”¯æŒ<strong>è·å–å’Œè®¾ç½®è®¿é—®å™¨</strong>ã€‚è¯­æ³•ä¸è¡Œä¸ºè·Ÿ<strong>æ™®é€šå¯¹è±¡</strong>ä¸€æ ·ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">newName</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name_</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">newName</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">get</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name_</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> p </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Person</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">p</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Jake</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(p</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// Jake</span></span>
<span class="line"></span></code></pre></div><h3 id="é™æ€ç±»æ–¹æ³•" tabindex="-1">é™æ€ç±»æ–¹æ³• <a class="header-anchor" href="#é™æ€ç±»æ–¹æ³•" aria-hidden="true">#</a></h3><p>å¯ä»¥åœ¨ç±»ä¸Šå®šä¹‰é™æ€æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•é€šå¸¸ç”¨äº<strong>æ‰§è¡Œä¸ç‰¹å®šäºå®ä¾‹çš„æ“ä½œ</strong>ï¼Œä¹Ÿ<strong>ä¸è¦æ±‚å­˜åœ¨ç±»çš„å®ä¾‹</strong>ã€‚<br> é™æ€ç±»æˆå‘˜åœ¨ç±»å®šä¹‰ä¸­ä½¿ç”¨ <code>static</code> å…³é”®å­—ä½œä¸ºå‰ç¼€ã€‚<strong>åœ¨é™æ€æˆå‘˜ä¸­ï¼Œ<code>this</code> å¼•ç”¨ç±»è‡ªèº«</strong>ã€‚å…¶ä»–æ‰€æœ‰çº¦å®šè·ŸåŸå‹æˆå‘˜ä¸€æ ·ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// æ·»åŠ åˆ° this çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šå­˜åœ¨äºä¸åŒçš„å®ä¾‹ä¸Š</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">locate</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">instance</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å®šä¹‰åœ¨ç±»çš„åŸå‹å¯¹è±¡ä¸Š</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">locate</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">prototype</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å®šä¹‰åœ¨ç±»æœ¬èº«ä¸Š</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">locate</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">class</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">)</span></span>
<span class="line highlighted"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> p </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Person</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">p</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">locate</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// instance, Person {}</span></span>
<span class="line"><span style="color:#FFCB6B;">Person</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">locate</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// prototype, {constructor: ... }</span></span>
<span class="line"><span style="color:#A6ACCD;">Person</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">locate</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// class, class Person {}</span></span>
<span class="line"></span></code></pre></div><h3 id="éå‡½æ•°åŸå‹å’Œç±»æˆå‘˜" tabindex="-1">éå‡½æ•°åŸå‹å’Œç±»æˆå‘˜ <a class="header-anchor" href="#éå‡½æ•°åŸå‹å’Œç±»æˆå‘˜" aria-hidden="true">#</a></h3><p>å¦‚ä¸Šé¢æ‰€è¯´ï¼Œ<strong>ä¸èƒ½</strong>åœ¨ç±»å—ä¸­ç»™åŸå‹æ·»åŠ <strong>åŸå§‹å€¼æˆ–å¯¹è±¡</strong>ä½œä¸ºæˆå‘˜æ•°æ®ï¼Œä½†åœ¨ç±»å®šä¹‰å¤–éƒ¨ï¼Œå¯ä»¥æ‰‹åŠ¨æ·»åŠ ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">sayName</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">Person</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">greeting</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">\${</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">}\`</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// åœ¨ç±»ä¸Šå®šä¹‰æ•°æ®æˆå‘˜</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">Person</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">greeting </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">My name is</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// åœ¨åŸå‹ä¸Šå®šä¹‰æ•°æ®æˆå‘˜</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">Person</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Jake</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> p </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Person</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">p</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sayName</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// My name is Jake</span></span>
<span class="line"></span></code></pre></div><h2 id="ç»§æ‰¿" tabindex="-1">ç»§æ‰¿ <a class="header-anchor" href="#ç»§æ‰¿" aria-hidden="true">#</a></h2><p>ECMAScript 6 æ–°å¢ç‰¹æ€§ä¸­<strong>æœ€å‡ºè‰²</strong>çš„ä¸€ä¸ªå°±æ˜¯<strong>åŸç”Ÿæ”¯æŒäº†ç±»ç»§æ‰¿æœºåˆ¶</strong>ã€‚</p><blockquote><p>è™½ç„¶ç±»ç»§æ‰¿ä½¿ç”¨çš„æ˜¯æ–°è¯­æ³•ï¼Œä½†èƒŒåä¾æ—§ä½¿ç”¨çš„æ˜¯åŸå‹é“¾ã€‚</p></blockquote><h3 id="ç»§æ‰¿åŸºç¡€" tabindex="-1">ç»§æ‰¿åŸºç¡€ <a class="header-anchor" href="#ç»§æ‰¿åŸºç¡€" aria-hidden="true">#</a></h3><p>ä½¿ç”¨ <code>extends</code> å…³é”®å­—ï¼Œå°±å¯ä»¥ç»§æ‰¿<strong>ä»»ä½•æ‹¥æœ‰ <code>[[Construct]]</code> å’ŒåŸå‹çš„å¯¹è±¡</strong>ã€‚å¾ˆå¤§ç¨‹åº¦ä¸Šï¼Œè¿™æ„å‘³ç€<strong>ä¸ä»…å¯ä»¥ç»§æ‰¿ä¸€ä¸ªç±»</strong>ï¼Œä¹Ÿå¯ä»¥ç»§æ‰¿<strong>æ™®é€šçš„æ„é€ å‡½æ•°</strong>ï¼ˆä¿æŒå‘åå…¼å®¹ï¼‰ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç»§æ‰¿ç±»</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Bus</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Bus</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(b </span><span style="color:#89DDFF;">instanceof</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Bus</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(b </span><span style="color:#89DDFF;">instanceof</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Person</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç»§æ‰¿æ™®é€šæ„é€ å‡½æ•°</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Engineer</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> e </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Engineer</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(e </span><span style="color:#89DDFF;">instanceof</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Engineer</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(e </span><span style="color:#89DDFF;">instanceof</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"></span></code></pre></div><h3 id="æ„é€ å‡½æ•°-å’Œ-super" tabindex="-1">æ„é€ å‡½æ•° å’Œ super() <a class="header-anchor" href="#æ„é€ å‡½æ•°-å’Œ-super" aria-hidden="true">#</a></h3><p><strong>æ´¾ç”Ÿç±»</strong>çš„æ–¹æ³•å¯ä»¥é€šè¿‡ <code>super</code> å…³é”®å­—å¼•ç”¨å®ƒä»¬çš„åŸå‹ã€‚è¿™ä¸ªå…³é”®å­—<strong>åªèƒ½åœ¨æ´¾ç”Ÿç±»ä¸­ä½¿ç”¨</strong>ï¼Œè€Œä¸”ä»…é™äº<strong>ç±»æ„é€ å‡½æ•°</strong>ã€<strong>å®ä¾‹æ–¹æ³•</strong>å’Œ<strong>é™æ€æ–¹æ³•</strong>å†…éƒ¨ã€‚<br></p><p>åœ¨ç±»æ„é€ å‡½æ•°ä¸­ä½¿ç”¨ <code>super</code> å¯ä»¥<strong>è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°</strong>ã€‚</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">hasEngine</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Bus</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ä¸è¦åœ¨è°ƒç”¨ super()ä¹‹å‰å¼•ç”¨ thisï¼Œå¦åˆ™ä¼šæŠ›å‡º ReferenceError</span></span>
<span class="line highlighted"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">super</span><span style="color:#F07178;">() </span><span style="color:#676E95;font-style:italic;">// ç›¸å½“äº super.constructor()</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">instanceof</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">// Bus { hasEngine: true }</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Bus</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span></code></pre></div><p>åœ¨é™æ€æ–¹æ³•ä¸­å¯ä»¥é€šè¿‡ <code>super</code> è°ƒç”¨<strong>ç»§æ‰¿çš„ç±»ä¸Šå®šä¹‰çš„é™æ€æ–¹æ³•</strong>ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">identify</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vehicle</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Bus</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">identify</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">super</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">identify</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">Bus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">identify</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// vehicle</span></span>
<span class="line"></span></code></pre></div><p>åœ¨ä½¿ç”¨ <code>super</code> æ—¶è¦æ³¨æ„å‡ ä¸ªé—®é¢˜ï¼š</p><ul><li><code>super</code> åªèƒ½åœ¨ <strong>æ´¾ç”Ÿç±»</strong> <strong>æ„é€ å‡½æ•°</strong>å’Œ<strong>é™æ€æ–¹æ³•</strong>ä¸­ä½¿ç”¨ï¼š</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">super</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// SyntaxError: &#39;super&#39; keyword unexpected</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><ul><li>ä¸èƒ½å•ç‹¬å¼•ç”¨ <code>super</code> å…³é”®å­—ï¼Œè¦ä¹ˆç”¨å®ƒ<strong>è°ƒç”¨æ„é€ å‡½æ•°</strong>ï¼Œè¦ä¹ˆç”¨å®ƒ<strong>å¼•ç”¨é™æ€æ–¹æ³•</strong>ï¼š</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Bus</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">     </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">super</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// SyntaxError: &#39;super&#39; keyword unexpected here</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><ul><li>è°ƒç”¨ <code>super()</code> ä¼šè°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œå¹¶å°†è¿”å›çš„å®ä¾‹èµ‹å€¼ç»™ <code>this</code>ï¼š</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Bus</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">super</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">instanceof</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Bus</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"></span></code></pre></div><ul><li><code>super()</code>çš„è¡Œä¸ºå¦‚åŒ<strong>è°ƒç”¨æ„é€ å‡½æ•°</strong>ï¼Œå¦‚æœéœ€è¦ç»™çˆ¶ç±»æ„é€ å‡½æ•°<strong>ä¼ å‚</strong>ï¼Œåˆ™éœ€è¦<strong>æ‰‹åŠ¨ä¼ å…¥</strong>ï¼š</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">licensePlate</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">licensePlate</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">licensePlate</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Bus</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">licensePlate</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">super</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">licensePlate</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Bus</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1337H4X</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)) </span><span style="color:#676E95;font-style:italic;">// Bus { licensePlate: &#39;1337H4X&#39; }</span></span>
<span class="line"></span></code></pre></div><ul><li>å¦‚æœ<strong>æ²¡æœ‰å®šä¹‰ç±»æ„é€ å‡½æ•°</strong>ï¼Œåœ¨å®ä¾‹åŒ–æ´¾ç”Ÿç±»æ—¶ä¼š<strong>è°ƒç”¨ <code>super()</code></strong>ï¼Œè€Œä¸”ä¼šä¼ å…¥æ‰€æœ‰ä¼ ç»™æ´¾ç”Ÿç±»çš„å‚æ•°ï¼š</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">licensePlate</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">licensePlate</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">licensePlate</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Bus</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Bus</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1337H4X</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)) </span><span style="color:#676E95;font-style:italic;">// Bus { licensePlate: &#39;1337H4X&#39; }</span></span>
<span class="line"></span></code></pre></div><ul><li>åœ¨ç±»æ„é€ å‡½æ•°ä¸­ï¼Œä¸èƒ½åœ¨è°ƒç”¨ <code>super()</code>ä¹‹å‰å¼•ç”¨ <code>this</code>ï¼š</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Bus</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Bus</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ReferenceError: Must call super constructor in derived class</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// before accessing &#39;this&#39; or returning from derived constructor</span></span>
<span class="line"></span></code></pre></div><ul><li>å¦‚æœåœ¨æ´¾ç”Ÿç±»ä¸­<strong>æ˜¾å¼å®šä¹‰äº†æ„é€ å‡½æ•°</strong>ï¼Œåˆ™è¦ä¹ˆå¿…é¡»åœ¨å…¶ä¸­<strong>è°ƒç”¨ <code>super()</code></strong>ï¼Œè¦ä¹ˆå¿…é¡»åœ¨å…¶ä¸­<strong>è¿”å›ä¸€ä¸ªå¯¹è±¡</strong>ï¼š</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Car</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Bus</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">super</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Van</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Car</span><span style="color:#A6ACCD;">()) </span><span style="color:#676E95;font-style:italic;">// Car {}</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Bus</span><span style="color:#A6ACCD;">()) </span><span style="color:#676E95;font-style:italic;">// Bus {}</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Van</span><span style="color:#A6ACCD;">()) </span><span style="color:#676E95;font-style:italic;">// {}</span></span>
<span class="line"></span></code></pre></div><h3 id="æŠ½è±¡åŸºç±»" tabindex="-1">æŠ½è±¡åŸºç±» <a class="header-anchor" href="#æŠ½è±¡åŸºç±»" aria-hidden="true">#</a></h3><p>æœ‰æ—¶å€™å¯èƒ½éœ€è¦å®šä¹‰è¿™æ ·ä¸€ä¸ªç±»ï¼Œå®ƒ<strong>å¯ä¾›å…¶ä»–ç±»ç»§æ‰¿</strong>ï¼Œä½†<strong>æœ¬èº«ä¸ä¼šè¢«å®ä¾‹åŒ–</strong>ã€‚è™½ç„¶ ECMAScript æ²¡æœ‰ä¸“é—¨æ”¯æŒè¿™ç§ç±»çš„è¯­æ³• ï¼Œä½†é€šè¿‡ <strong><code>new.target</code></strong> ä¹Ÿå¾ˆå®¹æ˜“å®ç°ã€‚<code>new.target</code> <strong>ä¿å­˜é€šè¿‡ <code>new</code> å…³é”®å­—è°ƒç”¨çš„ç±»æˆ–å‡½æ•°</strong>ï¼Œé€šè¿‡åœ¨<strong>å®ä¾‹åŒ–æ—¶æ£€æµ‹ <code>new.target</code> æ˜¯ä¸æ˜¯æŠ½è±¡åŸºç±»</strong>ï¼Œå¯ä»¥é˜»æ­¢å¯¹æŠ½è±¡åŸºç±»çš„å®ä¾‹åŒ–ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æŠ½è±¡åŸºç±»</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">new.</span><span style="color:#A6ACCD;">target</span><span style="color:#F07178;">)</span></span>
<span class="line highlighted"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">new.</span><span style="color:#A6ACCD;">target</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Vehicle</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">throw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Error</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Vehicle cannot be directly instantiated</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line highlighted"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ´¾ç”Ÿç±»</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Bus</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Bus</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// class Bus {}</span></span>
<span class="line"><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Vehicle</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// class Vehicle {}</span></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// Error: Vehicle cannot be directly instantiated</span></span>
<span class="line"></span></code></pre></div><p>å¦å¤–ï¼Œé€šè¿‡åœ¨<strong>æŠ½è±¡åŸºç±»æ„é€ å‡½æ•°ä¸­è¿›è¡Œæ£€æŸ¥</strong>ï¼Œå¯ä»¥è¦æ±‚<strong>æ´¾ç”Ÿç±»</strong>å¿…é¡»å®šä¹‰æŸä¸ªæ–¹æ³•ã€‚å› ä¸ºåŸå‹æ–¹æ³•åœ¨è°ƒç”¨ç±»æ„é€ å‡½æ•°ä¹‹å‰å°±å·²ç»å­˜åœ¨äº†ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ <code>this</code> å…³é”®å­—æ¥æ£€æŸ¥ç›¸åº”çš„æ–¹æ³•ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æŠ½è±¡åŸºç±»</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">new.</span><span style="color:#A6ACCD;">target</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Vehicle</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">throw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Error</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Vehicle cannot be directly instantiated</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line highlighted"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">!this.</span><span style="color:#A6ACCD;">foo</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">throw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Error</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Inheriting class must define foo()</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line highlighted"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">success!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ´¾ç”Ÿç±»</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Bus</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">foo</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ´¾ç”Ÿç±»</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Van</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Vehicle</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Bus</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// success!</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Van</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// Error: Inheriting class must define foo()</span></span>
<span class="line"></span></code></pre></div><h3 id="ç»§æ‰¿å†…ç½®ç±»å‹" tabindex="-1">ç»§æ‰¿å†…ç½®ç±»å‹ <a class="header-anchor" href="#ç»§æ‰¿å†…ç½®ç±»å‹" aria-hidden="true">#</a></h3><p>ES6 ç±»ä¸º<strong>ç»§æ‰¿å†…ç½®å¼•ç”¨ç±»å‹</strong>æä¾›äº†é¡ºç•…çš„æœºåˆ¶ï¼Œå¼€å‘è€…å¯ä»¥æ–¹ä¾¿åœ°æ‰©å±•å†…ç½®ç±»å‹ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SuperArray</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Array</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">shuffle</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// æ´—ç‰Œç®—æ³•</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">--</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">j</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">floor</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">random</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">))</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">;</span><span style="color:#F07178;">[</span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">j</span><span style="color:#F07178;">]] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">j</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]]</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">SuperArray</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(a </span><span style="color:#89DDFF;">instanceof</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Array</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(a </span><span style="color:#89DDFF;">instanceof</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SuperArray</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(a) </span><span style="color:#676E95;font-style:italic;">// [1, 2, 3, 4, 5]</span></span>
<span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">shuffle</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(a) </span><span style="color:#676E95;font-style:italic;">// [3, 1, 4, 5, 2]</span></span>
<span class="line"></span></code></pre></div><br><hr><p>ğŸ‰ class ç±» è¿™éƒ¨åˆ†çš„å†…å®¹è¿˜æ˜¯è›®å¤šçš„ï¼Œä¹Ÿæ¯”è¾ƒé‡è¦ã€‚æˆ‘ç°åœ¨å¤ä¹  class å°±çœ‹è¿™ç¯‡æ–‡ç« ï¼Œç»å¤§å¤šæ•°ï¼ˆä¹¦ä¸­ï¼‰çŸ¥è¯†ç‚¹éƒ½å›Šæ‹¬äº†ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°ä½ ~ â¤</p>`,88),e=[o];function t(c,r,y,F,D,A){return a(),n("div",null,e)}const g=s(p,[["render",t]]);export{i as __pageData,g as default};
