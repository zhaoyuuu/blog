# ç†è§£å¯¹è±¡

éš¾åº¦ï¼šâ­ï¸â­ï¸â­ï¸

> ğŸ’Œ Object æ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨çš„æ•°æ®ç»“æ„ï¼Œä½†å®ƒçš„å†…å®¹å¾ˆå¤šï¼Œæ‰€ä»¥è¿˜æ˜¯å®¹æ˜“å¯¹å®ƒçš„æŸäº›å±æ€§ä¸å¤ªäº†è§£ã€‚

å¯¹è±¡çš„æ¯ä¸ªå±æ€§æˆ–æ–¹æ³•éƒ½ç”±ä¸€ä¸ªåç§°æ¥æ ‡è¯†ï¼Œè¿™ä¸ªåç§°æ˜ å°„åˆ°ä¸€ä¸ªå€¼ã€‚å› æ­¤å¯ä»¥æŠŠ ECMAScript çš„å¯¹è±¡æƒ³è±¡æˆä¸€å¼ **æ•£åˆ—è¡¨**ï¼Œå…¶ä¸­çš„å†…å®¹å°±æ˜¯ä¸€ç»„**å/å€¼å¯¹**ï¼Œå€¼å¯ä»¥æ˜¯æ•°æ®æˆ–è€…å‡½æ•°ã€‚

## å±æ€§çš„ç±»å‹

> å±æ€§åˆ†ä¸¤ç§ï¼š**æ•°æ®å±æ€§**å’Œ**è®¿é—®å™¨å±æ€§**ã€‚

ECMA-262 ä½¿ç”¨ä¸€äº›å†…éƒ¨ç‰¹æ€§æ¥æè¿°å±æ€§çš„ç‰¹å¾ã€‚è¿™äº›ç‰¹æ€§æ˜¯ç”±ä¸º JavaScript å®ç°å¼•æ“çš„è§„èŒƒå®šä¹‰çš„ã€‚å› æ­¤ï¼Œ**å¼€å‘è€…ä¸èƒ½åœ¨ JavaScript ä¸­ç›´æ¥è®¿é—®è¿™äº›ç‰¹æ€§**ã€‚

### æ•°æ®å±æ€§

> æ•°æ®å±æ€§åŒ…å«ä¸€ä¸ªä¿å­˜æ•°æ®å€¼çš„ä½ç½®ã€‚å€¼ä¼šä»è¿™ä¸ªä½ç½®è¯»å–ï¼Œä¹Ÿä¼šå†™å…¥åˆ°è¿™ä¸ªä½ç½®ã€‚

æ•°æ®å±æ€§æœ‰ 4 ä¸ªç‰¹æ€§æè¿°å®ƒä»¬çš„è¡Œä¸ºï¼š

1. `[[Configurable]]`ï¼šè¡¨ç¤ºå±æ€§æ˜¯å¦å¯ä»¥é€šè¿‡ **`delete` åˆ é™¤å¹¶é‡æ–°å®šä¹‰**ï¼Œæ˜¯å¦å¯ä»¥**ä¿®æ”¹å®ƒçš„ç‰¹æ€§**ï¼Œä»¥åŠæ˜¯å¦å¯ä»¥æŠŠå®ƒ**æ”¹ä¸ºè®¿é—®å™¨å±æ€§**ã€‚é»˜è®¤ä¸º `true`
2. `[[Enumerable]]`ï¼šè¡¨ç¤ºå±æ€§æ˜¯å¦å¯ä»¥**é€šè¿‡ `for-in` å¾ªç¯è¿”å›**ã€‚é»˜è®¤ä¸º `true`
3. `[[Writable]]`ï¼šè¡¨ç¤ºå±æ€§çš„**å€¼æ˜¯å¦å¯ä»¥è¢«ä¿®æ”¹**ã€‚é»˜è®¤ä¸º `true`
4. `[[Value]]`ï¼šåŒ…å«**å±æ€§å®é™…çš„å€¼**ã€‚è¿™å°±æ˜¯å‰é¢æåˆ°çš„é‚£ä¸ªè¯»å–å’Œå†™å…¥å±æ€§å€¼çš„ä½ç½®ã€‚é»˜è®¤ä¸º `undefined`

è¦ä¿®**æ”¹å±æ€§çš„é»˜è®¤ç‰¹æ€§**ï¼Œå°±å¿…é¡»ä½¿ç”¨ `Object.defineProperty()` æ–¹æ³•ï¼š

```js
let person = {};
Object.defineProperty(person, "name", {
  writable: false,
  value: "Nicholas"
});
console.log(person.name); // "Nicholas"
person.name = "Greg";
console.log(person.name); // "Nicholas"ï¼ˆä¿®æ”¹å¤±æ•ˆï¼‰
```

ç”± `[[Configurable]]` å±æ€§çš„å®šä¹‰å¯ä»¥å¾—çŸ¥ï¼Œè™½ç„¶å¯ä»¥å¯¹åŒä¸€ä¸ªå±æ€§å¤šæ¬¡è°ƒç”¨ `Object.defineProperty()`ï¼Œä½†åœ¨æŠŠ `configurable` è®¾ç½®ä¸º `false` ä¹‹åå°±ä¼šå—é™åˆ¶äº†ã€‚

**æ³¨æ„ï¼š** åœ¨è°ƒç”¨ `Object.defineProperty()`æ—¶ï¼Œ`configurable`ã€`enumerable` å’Œ `writable` çš„å€¼**å¦‚æœä¸æŒ‡å®šï¼Œåˆ™éƒ½é»˜è®¤ä¸º false**ã€‚ï¼ˆï¼Ÿæˆ‘è®¤ä¸ºå¾ˆåå¸¸è§„ ğŸ˜•ï¼‰

### è®¿é—®å™¨å±æ€§

è®¿é—®å™¨å±æ€§ä¸åŒ…å«æ•°æ®å€¼ã€‚ç›¸åï¼Œå®ƒä»¬åŒ…å«ä¸€ä¸ªè·å–ï¼ˆ`getter`ï¼‰å‡½æ•°å’Œä¸€ä¸ªè®¾ç½®ï¼ˆ`setter`ï¼‰å‡½æ•°ï¼Œä¸è¿‡è¿™ä¸¤ä¸ªå‡½æ•°ä¸æ˜¯å¿…éœ€çš„ã€‚

è®¿é—®å™¨å±æ€§æœ‰ 4 ä¸ªç‰¹æ€§æè¿°å®ƒä»¬çš„è¡Œä¸ºï¼š

1. `[[Configurable]]`
2. `[[Enumerable]]`
3. `[[Get]]`ï¼šè·å–å‡½æ•°ï¼Œåœ¨**è¯»å–å±æ€§æ—¶è°ƒç”¨**ã€‚é»˜è®¤ä¸º `undefined`ã€‚
4. `[[Set]]`ï¼šè®¾ç½®å‡½æ•°ï¼Œåœ¨**å†™å…¥å±æ€§æ—¶è°ƒç”¨**ã€‚é»˜è®¤ä¸º `undefined`ã€‚

## è¯»å–å±æ€§çš„ç‰¹æ€§

âœ¨ ä½¿ç”¨ **`Object.getOwnPropertyDescriptor()`** æ–¹æ³•å¯ä»¥å–å¾—**æŒ‡å®šå±æ€§çš„å±æ€§æè¿°ç¬¦**ã€‚

```js{6}
let person = { age: 21 }
Object.defineProperty(person, 'name', {
  value: 'Nicholas',
})
console.log('person', person) //person { age: 21 }ï¼ˆæ— æ³•ç›´æ¥è·å–åˆ°[name]ï¼‰
console.log(Object.getOwnPropertyDescriptor(person, 'name'))
//{
//   value: 'Nicholas',
//   writable: false,
//   enumerable: false,
//   configurable: false
// }

```

## åˆå¹¶å¯¹è±¡

> `Object.assign()`

```js
/**
 * å¤šä¸ªæºå¯¹è±¡
 */
dest = {};
result = Object.assign(dest, { a: 'foo' }, { b: 'bar' });
console.log(result); // { a: foo, b: bar }
```

`Object.assign()` å¯¹æ¯ä¸ªæºå¯¹è±¡æ‰§è¡Œçš„æ˜¯**æµ…å¤åˆ¶**ã€‚

## å¢å¼ºçš„å¯¹è±¡è¯­æ³•

> ECMAScript 6 ä¸ºå®šä¹‰å’Œæ“ä½œå¯¹è±¡æ–°å¢äº†å¾ˆå¤šæå…¶æœ‰ç”¨çš„**è¯­æ³•ç³–ç‰¹æ€§**ã€‚è¿™äº›ç‰¹æ€§éƒ½æ²¡æœ‰æ”¹å˜ç°æœ‰å¼•æ“çš„è¡Œä¸ºï¼Œä½†æå¤§åœ°æå‡äº†å¤„ç†å¯¹è±¡çš„æ–¹ä¾¿ç¨‹åº¦ã€‚

- å±æ€§å€¼ç®€å†™

```js{2,6}
let person = {
  name: name
};
// ç­‰ä»·äº
let person = {
  name
};
```

- å¯è®¡ç®—å±æ€§

```js{5-7}
const nameKey = 'name';
const ageKey = 'age';
const jobKey = 'job';
let person = {
  [nameKey]: 'Matt',
  [ageKey]: 27,
  [jobKey]: 'Software engineer'
};
console.log(person); // { name: 'Matt', age: 27, job: 'Software engineer' }
```

**ä¸­æ‹¬å·**åŒ…å›´çš„å¯¹è±¡å±æ€§é”®å‘Šè¯‰è¿è¡Œæ—¶å°†å…¶ä½œä¸º JavaScript **è¡¨è¾¾å¼**è€Œä¸æ˜¯å­—ç¬¦ä¸²æ¥æ±‚å€¼

- ç®€å†™æ–¹æ³•å

```js{2,8}
let person = {
  sayName: function(name) {
    console.log(`My name is ${name}`);
  }
};
// ç­‰ä»·äº
let person = {
  sayName(name) {
    console.log(`My name is ${name}`);
  }
};
```
